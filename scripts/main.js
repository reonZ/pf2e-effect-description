(()=>{"use strict";let e="",t="module";function n(...t){return`${e}.settings.${t.join(".")}`}function o(t){return game.settings.get(e,t)}function i(t){const o=t.name;t.scope=t.scope??"world",t.config=t.config??!1,t.config&&(t.name=n(o,"name"),t.hint=n(o,"hint")),Array.isArray(t.choices)&&(t.choices=t.choices.reduce(((e,t)=>(e[t]=n(o,"choices",t),e)),{})),game.settings.register(e,o,t)}function c(...t){let[n,o]=t;return n=`${e}.${n}`,o?game.i18n.format(n,o):game.i18n.localize(n)}function r(e,t){const n=e.currentTarget.closest(".effect-item[data-item-id]").dataset.itemId;return t.actor?.items.get(n)}function a(){game.pf2e.effectPanel?.render()}!function(n,o=!1){e||(e="pf2e-effect-description"),t=o?"system":"module"}(),Hooks.once("init",(()=>{i({name:"remove",type:Boolean,default:!0,scope:"client",config:!0,onChange:a}),i({name:"sheet",type:Boolean,default:!0,scope:"client",config:!0,onChange:a})})),Hooks.on("renderEffectsPanel",(function(e,t){!function(e,t){const n=t.find(".effect-item").toArray(),i=o("remove")?`<p>${c("remove")}</p>`:"",r=o("sheet")?`<p>${c("sheet")}</p>`:"";for(const t of n){const n=t.dataset.itemId,o=e.actor?.items.get(n);if(!o)continue;let c="";!o.isLocked&&o.badge&&"counter"===o.badge.type&&(c+=i),c+=r,t.querySelector(".instructions").insertAdjacentHTML("beforeend",c)}}(e,t),function(e,t){e.find(".effect-item[data-item-id] .icon").each(((e,n)=>{n.addEventListener("click",(e=>function(e,t){if(!e.ctrlKey||!o("sheet"))return;const n=r(e,t);n&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n.sheet.render(!0))}(e,t)),!0),n.addEventListener("contextmenu",(e=>function(e,t){if(!e.shiftKey&&!e.ctrlKey||!o("remove"))return;const n=r(e,t);n&&!n.isLocked&&n.badge&&"counter"===n.badge.type&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),n.delete())}(e,t)),!0)}))}(t,e)}))})();
//# sourceMappingURL=main.js.map